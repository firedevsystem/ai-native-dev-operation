# CLAUDE.md セットアップ & 運用ガイド

> 3つの成果物ファイルの使い方・配置方法・運用の全体像

---

## ファイル一覧と役割

| ファイル | 役割 | 使う場面 |
|---------|------|---------|
| `review-ruleset.md` | コードレビュー判断体系（7視点のデシジョンツリー） | AIにコードレビューをさせるとき / 自分のレビュー基準をチームに共有するとき |
| `ai-native-dev-navigator.md` | AIネイティブ開発Phase 0-8のナビゲーター | 新規案件の立ち上げ〜MVP構築〜リリースまでの全工程 |
| `takahiro-gem-prompt.md` | 自分の思考パターン・判断体系をAIに再現させるGem | Google AI Studio / Claude Projects / ChatGPT GPTsなどでの「もう一人の自分」 |

---

## 1. review-ruleset.md — コードレビュー判断体系

### 何が書いてあるか

- 最上位原則「ユーザーの意図を完遂させる」
- 4層構造（データ層 → インターフェース層 → コード層 → 非機能層）
- 各層のデシジョンツリー（正規化判断、キー設計、API責務分離、冗長性、変更耐性、可読性、エラーハンドリング、パフォーマンス、セキュリティ、リソースコスト）
- AIレビューエージェント向けの運用ガイド（コンテキスト設定、実行順序、出力形式）

### 使い方

#### A. Claude Code の CLAUDE.md に組み込む

```
プロジェクトルート/
├── CLAUDE.md          ← ここに review-ruleset.md の内容を貼る or 参照させる
├── src/
└── ...
```

**CLAUDE.md への記載例：**

```markdown
# プロジェクト固有ルール

## コードレビュー基準
以下のルールセットに従ってコードレビューを実施してください。
（review-ruleset.md の内容をここに貼り付け）
```

または、CLAUDE.md から参照する形：

```markdown
## コードレビュー基準
`docs/review-ruleset.md` を参照し、この基準に従ってレビューしてください。
```

#### B. Claude Projects のプロジェクト知識に追加

1. Claude.ai → Projects → 対象プロジェクト
2. 「Project knowledge」にファイルをアップロード
3. System prompt に「review-ruleset.md の基準に従ってコードレビューを行ってください」と記載

#### C. GitHub Actions / CI連携（将来形）

PRが来たら自動でAIレビューを走らせるパイプラインに組み込む場合、このファイルをシステムプロンプトとしてAPIに渡す。

---

## 2. ai-native-dev-navigator.md — 開発フェーズナビゲーター

### 何が書いてあるか

- 4つのAIロール定義（PM、コーダー、監査官、サポート）
- Phase 0〜8 の各フェーズ詳細
  - 各フェーズの目的・やること
  - 完了条件（ゲート条件）
  - AIの振る舞い指示
- フェーズ間の立ち戻りルール
- MVP リリース判定基準

### 使い方

#### A. Claude Code の CLAUDE.md に組み込む（推奨）

新規案件を始めるとき、CLAUDE.md にこのファイルを配置する。

```
新規プロジェクト/
├── CLAUDE.md          ← ai-native-dev-navigator.md の内容
├── docs/
│   └── review-ruleset.md  ← レビュー基準も併設
├── src/
└── ...
```

Claude Code に「Phase 0 から始めてください」と伝えると、ナビゲーターとして壁打ちから始めてくれる。

#### B. Claude Projects で使う

1. プロジェクト知識にアップロード
2. 「あなたはAI-Native Development Navigatorです」をsystem promptに記載
3. 「新規案件を始めます。Phase 0 からスタートしてください」と話しかける

#### C. 使用フロー例

```
あなた: 「WMSの在庫管理画面を作りたい」

AI（Phase 0）: 「まず確認します。この在庫管理で解決したい"本当の課題"は何ですか？
              現状のオペレーションで一番困っていることを教えてください」

あなた: 「棚卸の差異が多くて...」

AI: 「差異の原因は入庫時？出庫時？棚移動時？具体的にどの工程で発生していますか？」
    → Phase 0-2 で真の課題を掘り下げ

AI（Phase 2 完了判定）: 「ゲート条件を確認します。
  ✅ 真の課題：『入庫時のロケーション登録ミスによる棚卸差異』
  ✅ ユースケース：3つ以上出ています
  → Phase 3 に進行可能です」
```

#### D. review-ruleset.md との連携

Phase 7（MVP構築）以降、コードレビューが必要になる。  
ナビゲーターが「レビューフェーズです」と判断したら、review-ruleset.md の基準でレビューを実行する。  
両ファイルを同じプロジェクトに配置しておくとシームレスに連携する。

---

## 3. takahiro-gem-prompt.md — 思考パターン再現Gem

### 何が書いてあるか

- 性格・振る舞い（思考パターン、価値観、コミュニケーションスタイル）
- 口癖・特定フレーズ（関西弁混じりの技術トーク）
- 専門スキル（技術バックグラウンド、I/Fファースト設計、7視点レビュー）
- AIネイティブ開発手法の概要
- 判断の統一原理

### 使い方

#### A. Google AI Studio の Gem として

1. Google AI Studio → Gems
2. 「Create Gem」→ takahiro-gem-prompt.md の内容を貼り付け
3. 保存して使用

→ 自分の思考パターンで壁打ちしてくれる「もう一人の自分」になる

#### B. Claude Projects の System Prompt として

1. Claude.ai → Projects → 新規プロジェクト作成
2. System prompt に takahiro-gem-prompt.md の内容を貼り付け
3. 「壁打ち相手」「レビュー相手」として使う

#### C. ChatGPT の GPTs として

1. ChatGPT → GPTs → Create
2. Instructions に内容を貼り付け
3. 公開/非公開を設定

#### D. 想定用途

- **壁打ち相手:** 「この設計どう思う？」→ 自分の判断基準で返してくれる
- **レビュー相手:** コードを見せると7視点でレビューしてくれる
- **思考の外部化:** 自分が忙しいとき、過去の自分の判断基準で初期レビューを回す
- **チーム教育:** 「Takahiroさんならどう判断しますか」を擬似体験させる

---

## 3ファイルの関係性

```
┌─────────────────────────────────┐
│  takahiro-gem-prompt.md          │  ← 「人物」の再現
│  思考パターン・価値観・判断原理   │
└────────────┬────────────────────┘
             │ 内包する
    ┌────────┴────────┐
    ▼                 ▼
┌──────────────┐ ┌──────────────────────┐
│ review-      │ │ ai-native-dev-       │  
│ ruleset.md   │ │ navigator.md         │
│              │ │                      │
│ 技術判断の   │ │ 開発プロセスの       │
│ 「How」      │ │ 「How」              │
└──────────────┘ └──────────────────────┘
 コードをどう    案件をどう進めるか
 レビューするか
```

- **Gem** は「人物像」全体。壁打ちや対話に使う
- **Ruleset** は技術判断の詳細。AIレビューエージェントに食わせる
- **Navigator** は開発プロセスの詳細。案件進行のガイドレールに使う

**3つ全部を同一プロジェクトに入れる必要はない。**  
案件開発時は `navigator + ruleset` の組み合わせが主。  
Gem は壁打ち・教育・ブランディング用途で独立して使う。

---

## 案件ごとのカスタマイズ

これらはベースラインであり、案件ごとに微調整する。

### review-ruleset.md のカスタマイズ例

```markdown
# 案件固有のレビュー追加基準

## 本案件の技術スタック
- Nuxt3 / Vue3 / TypeScript
- Firebase Firestore
- Google Maps API

## 追加レビュー基準
- Firestore のセキュリティルールが適切か
- Google Maps API のAPIキー制限が設定されているか
- Nuxt3 のauto-importに頼りすぎて明示的importが欠けていないか
```

### ai-native-dev-navigator.md のカスタマイズ例

```markdown
# 案件固有のフェーズ追加条件

## Phase 0-2 追加ゲート条件
- クライアントの既存システムとの連携要件が明確化されているか
- 多言語対応の要否が決定されているか

## Phase 7 MVP追加判定基準
- i18n対応が完了しているか（対象言語：日本語・英語）
```

---

## まとめ

| やりたいこと | 使うファイル | 配置先 |
|------------|------------|--------|
| AIにコードレビューさせたい | review-ruleset.md | CLAUDE.md / Projects |
| 案件をPhase 0から進めたい | ai-native-dev-navigator.md | CLAUDE.md / Projects |
| 壁打ち相手がほしい | takahiro-gem-prompt.md | Gem / GPTs / Projects |
| 案件開発の全工程を回したい | navigator + ruleset | CLAUDE.md に両方配置 |
| チームに自分の判断基準を伝えたい | 3つ全部 | 社内Wiki / 教育用 |
